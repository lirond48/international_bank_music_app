<form [formGroup]="searchForm" class="search-form" (ngSubmit)="onSearch($event)">
  <div class="search-controls">
    <input
      type="search"
      formControlName="searchTerm"
      placeholder="Search for an album or artist..."
      class="search-input"
    />
    <select
      formControlName="entityType"
      class="entity-select"
    >
      @for (type of entityTypes; track type.value) {
        <option [value]="type.value">{{ type.label }}</option>
      }
    </select>
  </div>
  <button type="submit" [disabled]="searchForm.invalid">Search</button>
</form>

@if (searchHistory.length > 0) {
  <div class="search-history">
    <span class="history-label">Recent searches:</span>
    <div class="history-items">
      @for (item of searchHistory; track item.timestamp) {
        <span 
          class="history-item"
          (click)="onHistoryItemClick(item)"
        >
          {{ item.searchTerm }} ({{ getEntityTypeLabel(item.entityType) }})
        </span>
      }
    </div>
  </div>
}
